# 为什么 Vite 速度比 Webpack 快？

## 开发模式的差异

在开发环境中，`Webpack` 是先打包再启动开发服务器，而 `Vite` 则是直接启动，然后再按需编译依赖文件。（大家可以启动项目后检查源码 `Sources` 那里看到）

这意味着，当使用 `Webpack` 时，所有的模块都需要在开发前进行打包，这会增加启动时间和构建时间。

而 `Vite` 则采用了不同的策略，它会在请求模块时再进行实时编译，这种按需动态编译的模式极大地缩短了编译时间，特别是在大型项目中，文件数量众多，`Vite` 的优势更为明显。


## 对ES Modules的支持

现代浏览器本身就支持 `ES Modules`，会主动发起请求去获取所需文件。`Vite`充分利用了这一点，将开发环境下的模块文件直接作为浏览器要执行的文件，而不是像 `Webpack` 那样先打包，再交给浏览器执行。这种方式减少了中间环节，提高了效率。

## 底层语言的差异

`Webpack` 是基于 `Node.js` 构建的，而 `Vite` 则是基于 `esbuild` 进行预构建依赖。`esbuild` 是采用 `Go` 语言编写的，`Go` 语言是纳秒级别的，而 `Node.js` 是毫秒级别的。因此，`Vite` 在打包速度上相比`Webpack` 有 10-100 倍的提升。`esbuild` 在`go`语言的加持下，它的构建速度远远优于使用`node`编写的构建工具

## 热更新的处理

在 `Webpack` 中，当一个模块或其依赖的模块内容改变时，需要重新编译这些模块。

而在 `Vite` 中，当某个模块内容改变时，只需要让浏览器重新请求该模块即可，这大大减少了热更新的时间。

